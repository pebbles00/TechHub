{% extends "layout.html" %}
{% block content %}
<div class="row">
    <div class="row">
        <h3 class="center-align">Checkout</h3>
    </div>
    <div class="col s12 m6">
        <div class="row hide-on-small-only">
            <div class="col s12 m3 center-align">
                <h5>Product</h5>
            </div>
            <div class="col s12 m3 center-align">
                <h5>Name</h5>
            </div>
            <div class="col s12 m3 center-align">
                <h5>Price</h5>
            </div>
            <div class="col s12 m3 center-align">
                <h5>Quantity</h5>
            </div>
        </div>
        {% for item in cart_items %}
            <hr>
            <div class="row">
                <div class="col s12 m3 center-align">
                    <img class="responsive-img" src="../static/product_pics/{{ item.product.photo_name }}" alt="">
                </div>
                <div class="col s12 m3 center-align">
                    {{ item.product.name }}
                </div>
                <div class="col s12 m3 center-align">
                    ₹ {{ item.product.price }}
                </div>
                <div class="col s12 m3 center-align">
                    {{ item.quantity }}
                </div>
            </div>
        {% endfor %}
        <div class="row">
            <hr>
            <p>
                <a href="{{ url_for('cart') }}" class="waves-effect waves-light btn black" ><i class="material-icons left">arrow_back</i>Cart</a>
                <h5 class="right-align">Total : ₹ {{ total }}</h5>
            </p>
            <hr>
        </div>
    </div>
    <div class="col s12 m6">
        <form method="POST" action="" class="col s12">
            {{ form.hidden_tag() }}
                <div class="row">
                    <div class="input-field col s12">
                    {% if form.addressLine1.errors %}
                    <i class="material-icons prefix">local_shipping</i>
                    {{ form.addressLine1(class="materialize-textarea validate") }}
                    {% for error in form.addressLine1.errors %}
                    <span class="helper-text red-text" data-error="{{error}}" data-success="right">{{error}}</span>
                    {% endfor %}
                    {% else %}
                    <i class="material-icons prefix">local_shipping</i>
                    {{ form.addressLine1(class="materialize-textarea validate") }}
                    {% endif %}
                    {{ form.addressLine1.label }}
                    </div>
                </div>
                <div class="row">
                    <div class="input-field col s12">
                    {% if form.addressLine2.errors %}
                    <i class="material-icons prefix">local_shipping</i>
                    {{ form.addressLine2(class="materialize-textarea validate") }}
                    {% for error in form.addressLine2.errors %}
                    <span class="helper-text red-text" data-error="{{error}}" data-success="right">{{error}}</span>
                    {% endfor %}
                    {% else %}
                    <i class="material-icons prefix">local_shipping</i>
                    {{ form.addressLine2(class="materialize-textarea validate") }}
                    {% endif %}
                    {{ form.addressLine2.label }}
                    </div>
                </div>
                <div class="row">
                    <div class="input-field col s12">
                    {% if form.pincode.errors %}
                    <i class="material-icons prefix">location_on</i>
                    {{ form.pincode(class="validate") }}
                    {% for error in form.pincode.errors %}
                    <span class="helper-text red-text" data-error="{{error}}" data-success="right">{{error}}</span>
                    {% endfor %}
                    {% else %}
                    <i class="material-icons prefix">location_on</i>
                    {{ form.pincode(class="validate") }}
                    {% endif %}
                    {{ form.pincode.label }}
                    </div>
                </div>
                <div class="row">
                    <div class="input-field col s12">
                    {% if form.city.errors %}
                    <i class="material-icons prefix">location_city</i>
                    {{ form.city(class="validate") }}
                    {% for error in form.city.errors %}
                    <span class="helper-text red-text" data-error="{{error}}" data-success="right">{{error}}</span>
                    {% endfor %}
                    {% else %}
                    <i class="material-icons prefix">location_city</i>
                    {{ form.city(class="validate") }}
                    {% endif %}
                    {{ form.city.label }}
                    </div>
                </div>
                <div class="row">
                    <div class="input-field col s12">
                    {% if form.state.errors %}
                    <i class="material-icons prefix">home</i>
                    {{ form.state(class="validate") }}
                    {% for error in form.state.errors %}
                    <span class="helper-text red-text" data-error="{{error}}" data-success="right">{{error}}</span>
                    {% endfor %}
                    {% else %}
                    <i class="material-icons prefix">home</i>
                    {{ form.state(class="validate") }}
                    {% endif %}
                    {{ form.state.label }}
                    </div>
                </div>
                <div class="row">
                    <div class="input-field col s12">
                    {% if form.mobile.errors %}
                    <i class="material-icons prefix">phone</i>
                    {{ form.mobile(class="validate") }}
                    {% for error in form.mobile.errors %}
                    <span class="helper-text red-text" data-error="{{error}}" data-success="right">{{error}}</span>
                    {% endfor %}
                    {% else %}
                    <i class="material-icons prefix">phone</i>
                    {{ form.mobile(class="validate") }}
                    {% endif %}
                    {{ form.mobile.label }}
                    </div>
                </div>
                <div class="row right-align">
                    <hr>
                    <p><h4>Total : ₹ {{ total }}</h4></p>
                    <hr>
                    {{ form.submit(class="btn waves-light black") }}
                </div>
        </form>
    </div>
</div>
{% endblock content %}